# vexa
Vexa - backend driven frontend platform

В качестве пакетного менеджера используется [yarn](https://yarnpkg.com/)
Для упрещенной работы с зависимостями используется [lerna](https://lerna.js.org/) + [yarn workspaces](https://classic.yarnpkg.com/lang/en/docs/workspaces/).


## Начало работы
Для начала работы, необходимо установить зависимсоти.
```
yarn run bootstrap
```


### Ошибки установки:
В момент установки зависимостей, есть warning ошибки у пакета **@vexa/ui-kit** изза **storybook**. (Решение - дождаться стабильной версии, либо перейти на styleguide)


## Известные проблемы:

Для полноценной реалилизации React.lazy на SSR, для рендера, необходимо использовать renderToPipeableStream, что накладывает определенные проблемы:
* renderToPipeableStream использует WriteStream, поэтому приходится создавать класс Writable
* Создаются много promise, что не является оптимальным решением

Варианты решения:
* Возможно потребуется собственная реализация HOC lazyload для решения проблем с SSR
* Отказаться от React.lazy
* Отказаться от ErrorBoundary для каждого виджета, а все приложение рендерить с использованием renderToPipeableStream

## Неизвестные проблемы:
* !!! В случае remote widget, клиент сам закачает чанки, но на сервере, с этим будут возникать проблемы, т/к пакеты попадают в externals.
Как пример: запретить externals зависимости, либо сделать паралельный рендеринг.
На этапе сборки виджета, проверять пакеты
* Необходимо нагрузочное тестирование, для понимания основных метрик (Response time, Heap Usage, CPU usage);
